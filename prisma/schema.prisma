generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "mysql"
  url      = env("DATABASE_URL")
}

model magazine {
  id        String   @id @default(cuid())
  title     String
  link      String
  image     Bytes?
  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt
  category  String?  @default("General")
}

model account {
  id                String  @id
  userId            String
  type              String
  provider          String
  providerAccountId String
  refresh_token     String? @db.Text
  access_token      String? @db.Text
  expires_at        Int?
  token_type        String?
  scope             String?
  id_token          String? @db.Text
  session_state     String?
  user              user    @relation(fields: [userId], references: [id], onDelete: Cascade, map: "Account_userId_fkey")

  @@unique([provider, providerAccountId], map: "Account_provider_providerAccountId_key")
  @@index([userId], map: "Account_userId_fkey")
}

model achievement {
  id               String             @id
  type             achievement_type
  title            String?            @db.Text
  description      String?            @db.Text
  value            String?
  mainImage        Bytes?
  priority         Int                @default(0)
  isActive         Boolean            @default(true)
  createdAt        DateTime           @default(now())
  updatedAt        DateTime
  achievementimage achievementimage[]
}

model achievementimage {
  id            String      @id
  achievementId String
  imageData     Bytes
  createdAt     DateTime    @default(now())
  achievement   achievement @relation(fields: [achievementId], references: [id], onDelete: Cascade, map: "AchievementImage_achievementId_fkey")

  @@index([achievementId], map: "AchievementImage_achievementId_fkey")
}

model announcement {
  id          String   @id
  title       String
  description String   @db.Text
  date        String
  time        String
  venue       String
  priority    Int      @default(0)
  isActive    Boolean  @default(true)
  createdAt   DateTime @default(now())
  updatedAt   DateTime
}

model clubmembers {
  id            String   @id
  name          String
  academicYear  String
  sectionBranch String
  rollNumber    String
  memberShipId  String?
  createdAt     DateTime @default(now())
  updatedAt     DateTime
}

model coremembers {
  id            String   @id
  name          String
  academicYear  String
  sectionBranch String
  portfolio     String
  rollNumber    String
  category      String
  teamCategory  String?
  memberShipId  String?
  createdAt     DateTime @default(now())
  updatedAt     DateTime
  description   String?  @db.Text
  image         Bytes?
}

model event {
  id                    String      @id
  title                 String
  description           String      @db.Text
  eventType             String?
  aboutEvent            String?     @db.Text
  eventRegistrationLink String?
  eventPdfLink          String?
  eventVideoLink        String?
  noOfParticipants      Int?
  eventDate             DateTime
  eventHighlights       Json
  studentCoordinators   Json
  facultyCoordinators   Json
  status                String
  speakerName           String?
  speakerDescription    String?     @db.Text
  speakerHighlights     Json
  eventCertificateImage Bytes?
  eventfile             eventfile[]
}

model eventfile {
  id       String @id
  eventId  String
  fileData Bytes
  event    event  @relation(fields: [eventId], references: [id], onDelete: Cascade, map: "EventFile_eventId_fkey")

  @@index([eventId], map: "EventFile_eventId_fkey")
}

model gatepyqs {
  id        String   @id
  year      Int
  link      String
  name      String
  createdAt DateTime @default(now())
  updatedAt DateTime
  category  String?  @default("General")
  image     Bytes?
}

model milestone {
  id          String   @id
  title       String
  description String   @db.Text
  date        DateTime
  icon        String?
  color       String   @default("bg-blue-500")
  bgColor     String   @default("bg-blue-50")
  image       Bytes?
  category    String?  @default("general")
  priority    Int      @default(0)
  isActive    Boolean  @default(true)
  createdAt   DateTime @default(now())
  updatedAt   DateTime
}

model notification {
  id        String   @id
  title     String
  message   String   @db.Text
  link      String?
  isActive  Boolean  @default(true)
  priority  Int      @default(0)
  createdAt DateTime @default(now())
  updatedAt DateTime
}

model nptellecture {
  id            String   @id
  courseName    String
  professorName String
  image         Bytes?
  link          String
  createdAt     DateTime @default(now())
  updatedAt     DateTime
  category      String?  @default("General")
}

model photogallery {
  id                String                @id
  title             String
  description       String?               @db.Text
  category          photogallery_category
  priority          Int                   @default(0)
  isActive          Boolean               @default(true)
  createdAt         DateTime              @default(now())
  updatedAt         DateTime
  photogalleryimage photogalleryimage[]
}

model photogalleryimage {
  id             String       @id
  photoGalleryId String
  imageData      Bytes
  caption        String?
  displayOrder   Int          @default(0)
  createdAt      DateTime     @default(now())
  photogallery   photogallery @relation(fields: [photoGalleryId], references: [id], onDelete: Cascade, map: "PhotoGalleryImage_photoGalleryId_fkey")

  @@index([photoGalleryId], map: "PhotoGalleryImage_photoGalleryId_fkey")
}

model placementprep {
  id        String   @id
  name      String
  image     Bytes?
  link      String
  createdAt DateTime @default(now())
  updatedAt DateTime
  category  String?  @default("General")
}

model projectimages {
  id        String   @id
  projectId String
  fileData  Bytes
  projects  projects @relation(fields: [projectId], references: [id], onDelete: Cascade, map: "ProjectImages_projectId_fkey")

  @@index([projectId], map: "ProjectImages_projectId_fkey")
}

model projects {
  id             String          @id
  title          String
  status         String
  Introduction   String          @db.Text
  academicYear   String
  Mentor         String
  category       String
  Members        Json?
  Statement      String?         @db.Text
  Abstract       String?         @db.Text
  Conclusion     String          @db.Text
  Results        String?         @db.Text
  futureScope    String?         @db.Text
  referenceLinks Json?
  Tools          Json?
  Link           String?
  createdBy      String?
  startDate      String?
  endDate        String?
  Methodology    String?         @db.Text
  createdAt      DateTime        @default(now())
  updatedAt      DateTime
  projectimages  projectimages[]
}

model questionbank {
  id        String   @id
  topicName String
  subject   String
  link      String
  createdAt DateTime @default(now())
  updatedAt DateTime
  category  String?  @default("General")
  image     Bytes?
}

model runningnotifications {
  id        String   @id
  message   String   @db.Text
  link      String?
  createdAt DateTime @default(now())
  updatedAt DateTime
}

model session {
  id           String   @id
  sessionToken String   @unique(map: "Session_sessionToken_key")
  userId       String
  expires      DateTime
  user         user     @relation(fields: [userId], references: [id], onDelete: Cascade, map: "Session_userId_fkey")

  @@index([userId], map: "Session_userId_fkey")
}

model teamphoto {
  id             String           @id
  academicYear   String           @unique(map: "TeamPhoto_academicYear_key")
  createdAt      DateTime         @default(now())
  updatedAt      DateTime
  teamphotoimage teamphotoimage[]
}

model teamphotoimage {
  id          String    @id
  teamPhotoId String
  imageData   Bytes
  createdAt   DateTime  @default(now())
  teamphoto   teamphoto @relation(fields: [teamPhotoId], references: [id], onDelete: Cascade, map: "TeamPhotoImage_teamPhotoId_fkey")

  @@index([teamPhotoId], map: "TeamPhotoImage_teamPhotoId_fkey")
}

model test {
  id            String   @id
  title         String
  subject       String
  type          String
  status        String
  noOfQuestions Int
  duration      Int
  examLink      String
  date          DateTime
  description   String?  @db.Text
  createdAt     DateTime @default(now())
  updatedAt     DateTime
}

model textbook {
  id          String   @id
  name        String
  description String   @db.Text
  subject     String
  author      String
  link        String
  image       Bytes?
  createdAt   DateTime @default(now())
  updatedAt   DateTime
  category    String?  @default("General")
}

model user {
  id                    String    @id
  email                 String?   @unique(map: "User_email_key")
  name                  String?
  password              String?
  year                  String?
  role                  user_role @default(USER)
  createdAt             DateTime  @default(now())
  createdBy             String?
  lastPasswordChange    DateTime?
  requirePasswordChange Boolean   @default(false)
  updatedAt             DateTime
  account               account[]
  session               session[]
}

model verificationtoken {
  identifier String
  token      String   @unique(map: "VerificationToken_token_key")
  expires    DateTime

  @@unique([identifier, token], map: "VerificationToken_identifier_token_key")
}

model vlsimaterial {
  id        String   @id
  name      String
  category  String
  link      String
  image     Bytes?
  createdAt DateTime @default(now())
  updatedAt DateTime
}

enum achievement_type {
  HERO_CAROUSEL
  CLUB_MILESTONE
  SUMMARY_STAT
  PROUD_MOMENT
  AWARD_HIGHLIGHT
  GALLERY_IMAGE
}

enum photogallery_category {
  CLUB_HIGHLIGHTS
  PHOTO_GALLERY
  BOTH
}

enum user_role {
  ADMIN
  USER
  SUPERADMIN
}
